import{a as L,b as r,c as k,d as A,e as I,f as T,g as R,h as G,i as U,j as V}from"./chunk-6FLGBKLY.js";import{a as D}from"./chunk-DF5JJGTH.js";import{A as i,B as n,C as p,D as _,F as m,I as x,J as c,M as P,N as S,O as M,S as E,T as O,V as w,l as y,s as N,t as a,u as h,x as C,y as u}from"./chunk-DMQE2AYX.js";var b=o=>({"valid-input":o});function j(o,q){o&1&&(i(0,"div",17),m(1," \u0627\u0644\u0627\u0633\u0645 \u0645\u0637\u0644\u0648\u0628 \u0648\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 3 \u0625\u0644\u0649 10 \u0623\u062D\u0631\u0641. "),n())}function z(o,q){o&1&&(i(0,"div",17),m(1," \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631 \u0645\u0637\u0644\u0648\u0628 \u0648\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 3 \u0625\u0644\u0649 10 \u0623\u062D\u0631\u0641. "),n())}var Y=(()=>{class o{constructor(t,l,e){this.fb=t,this.router=l,this._FormDataService=e,this.imagePreview="",this.submitted=!1}ngOnInit(){let t=this._FormDataService.getUserData();this.profileForm=this.fb.group({FirstName:[t?.FirstName||"",[r.required,r.minLength(3),r.maxLength(10)]],LastName:[t?.LastName||"",[r.required,r.minLength(3),r.maxLength(10)]],email:[t?.email||"",[r.required,r.email]],phone:[t?.phone||"",[r.required,r.pattern("^[0-9]*$"),r.minLength(11),r.maxLength(11)]]})}onSubmit(){if(this.profileForm.valid){this.submitted=!0;let t=this.profileForm.value;this._FormDataService.saveUserData(t,this.imagePreview),this.router.navigate(["/profile"]),window.alert("\u0633\u064A\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u064A OK")}}onImageSelected(t){let l=t.target.files[0];if(l){let e=new FileReader;e.onload=()=>{this.imagePreview=e.result},e.readAsDataURL(l),console.log("image previw in edite page "),console.log(e)}}allowOnlyNumbers(t){if(t.target.value.length>=11){t.preventDefault();return}let e=t.charCode;(e<48||e>57)&&t.preventDefault()}static{this.\u0275fac=function(l){return new(l||o)(h(G),h(E),h(D))}}static{this.\u0275cmp=y({type:o,selectors:[["app-edite-profile"]],standalone:!0,features:[x],decls:30,vars:16,consts:[[1,"container","py-5"],[1,"text-center","mb-3"],["width","150","height","150","alt","profile",1,"rounded-circle",3,"src"],[1,"mt-2"],["type","file","accept","image/*",1,"form-control",3,"change"],[1,"card","p-4","edit-card"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","FirstName","type","text","placeholder","First Name",1,"form-control",3,"ngClass"],["class","validation-error",4,"ngIf"],["formControlName","LastName","type","text","placeholder","Last Name",1,"form-control",3,"ngClass"],["formControlName","email","type","email","placeholder","email",1,"form-control",3,"ngClass"],["formControlName","phone","type","tel","placeholder","+20",1,"form-control",3,"keypress","ngClass"],[1,"text-center"],["type","submit",1,"btn","btn-success"],["routerLink","/profile",1,"btn","btn-secondary","ms-2"],[1,"validation-error"]],template:function(l,e){if(l&1&&(i(0,"div",0)(1,"div",0)(2,"div",1),p(3,"img",2),i(4,"div",3)(5,"input",4),_("change",function(s){return e.onImageSelected(s)}),n()()(),i(6,"div",5)(7,"form",6),_("ngSubmit",function(){return e.onSubmit()}),i(8,"div",7)(9,"label",8),m(10,"Frist Name"),n(),p(11,"input",9),C(12,j,2,0,"div",10),i(13,"label",8),m(14,"Last Name"),n(),p(15,"input",11),C(16,z,2,0,"div",10),n(),i(17,"div",7)(18,"label",8),m(19,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),p(20,"input",12),n(),i(21,"div",7)(22,"label",8),m(23,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),n(),i(24,"input",13),_("keypress",function(s){return e.allowOnlyNumbers(s)}),n()(),i(25,"div",14)(26,"button",15),m(27,"\u062D\u0641\u0638 "),n(),i(28,"a",16),m(29,"\u0631\u062C\u0648\u0639"),n()()()()()()),l&2){let d,s,f,F,g,v;a(3),u("src",e.imagePreview||"https://via.placeholder.com/150",N),a(4),u("formGroup",e.profileForm),a(4),u("ngClass",c(8,b,((d=e.profileForm.get("FirstName"))==null?null:d.valid)&&((d=e.profileForm.get("FirstName"))==null?null:d.touched))),a(),u("ngIf",e.submitted&&((s=e.profileForm.get("FirstName"))==null?null:s.invalid)),a(3),u("ngClass",c(10,b,((f=e.profileForm.get("LastName"))==null?null:f.valid)&&((f=e.profileForm.get("LastName"))==null?null:f.touched))),a(),u("ngIf",e.submitted&&((F=e.profileForm.get("LastName"))==null?null:F.invalid)),a(4),u("ngClass",c(12,b,((g=e.profileForm.get("email"))==null?null:g.valid)&&((g=e.profileForm.get("email"))==null?null:g.touched))),a(4),u("ngClass",c(14,b,((v=e.profileForm.get("phone"))==null?null:v.valid)&&((v=e.profileForm.get("phone"))==null?null:v.touched)))}},dependencies:[M,P,S,U,I,L,k,A,V,T,R,w,O],styles:["body[_ngcontent-%COMP%]{background-color:#f5f7fa;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.edit-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 24px #00000014;max-width:600px;margin:auto}img.rounded-circle[_ngcontent-%COMP%]{border:4px solid #e0e0e0;transition:transform .3s ease}img.rounded-circle[_ngcontent-%COMP%]:hover{transform:scale(1.05)}input[type=file][_ngcontent-%COMP%]{max-width:300px;margin:auto}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#444;margin-top:10px}.form-control[_ngcontent-%COMP%]{border-radius:10px;padding:10px 14px;font-size:15px;margin-bottom:10px}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#4a90e2}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border:none;padding:8px 24px;font-weight:700;border-radius:10px}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-secondary[_ngcontent-%COMP%]{padding:8px 24px;border-radius:10px}.text-center[_ngcontent-%COMP%]{text-align:center}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red;background-color:#ffe6e6}input.ng-touched.ng-valid[_ngcontent-%COMP%]{border:1px solid green;background-color:#e6ffe6}.validation-error[_ngcontent-%COMP%]{color:red;font-size:.875rem;margin-top:.25rem}"]})}}return o})();export{Y as EditeProfileComponent};
